<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>
        Hexo
    </title>
    
<link rel="stylesheet" href="/libs/highlight/styles/monokai-sublime.css">

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>

<body id="bodyx">
    <div class="hd posts">
    <a href="/index.html"><i class="fa fa-reply replay-btn" aria-hidden="true"></i></a>
    <div class="post-title">
        <p>
            spring
        </p>
        <hr>
    </div>
    <div >
        <div class="post-content"  >
            <h1 id="spring"><a href="#spring" class="headerlink" title="spring"></a>spring</h1><h2 id="1-spring简介"><a href="#1-spring简介" class="headerlink" title="1.spring简介"></a>1.spring简介</h2><h3 id="1-1spring是什么"><a href="#1-1spring是什么" class="headerlink" title="1.1spring是什么"></a>1.1spring是什么</h3><ul>
<li>​	spring是分层的java SE&#x2F;EE应用full-stack轻量级开源框架，以Ioc（Inerse Of Control：反转控制）和AOP（Aspect Oriented Programming:面向切面编程）为内核</li>
</ul>
<p>			</p>
<h2 id="2-spring快速入门"><a href="#2-spring快速入门" class="headerlink" title="2.spring快速入门"></a>2.spring快速入门</h2><h3 id="2-1开发步骤"><a href="#2-1开发步骤" class="headerlink" title="2.1开发步骤"></a>2.1开发步骤</h3><ol>
<li><p>导入spring 开发的基本包坐标</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//在pom文件导入</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">     &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;5.3.22&lt;/version&gt;</span><br><span class="line"> &lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>编写Dao接口和实现类</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">package com.cfc.it.spring_ioc.dao;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created with IntelliJ IDEA.</span><br><span class="line"> * creator: 蔡芳灿</span><br><span class="line"> * Date: 2022/10/15</span><br><span class="line"> * Time: 16:48</span><br><span class="line"> * 需求：接口</span><br><span class="line"> */</span><br><span class="line">public interface UserDao &#123;</span><br><span class="line">    public void  save();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">package com.cfc.it.spring_ioc.dao.impl;</span><br><span class="line"></span><br><span class="line">import com.cfc.it.spring_ioc.dao.UserDao;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created with IntelliJ IDEA.</span><br><span class="line"> * creator: 蔡芳灿</span><br><span class="line"> * Date: 2022/10/15</span><br><span class="line"> * Time: 16:49</span><br><span class="line"> * 需求：实现类</span><br><span class="line"> */</span><br><span class="line">public class UserDaoImpl implements UserDao &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void save() &#123;</span><br><span class="line">        System.out.println(&quot;save running...&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


</li>
<li><p>创建spring核心配置文件</p>
<p>在resource下创建spring配置文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在spring配置文件中配置UserDaoImpl</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--    配置spring xml id的名字随便起 class指向UserDao实现类--&gt;</span><br><span class="line">    &lt;bean id=&quot;userDao&quot; class=&quot;com.cfc.it.spring_ioc.dao.impl.UserDaoImpl&quot;&gt;&lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用spring 的API获得Bean实例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">package com.cfc.it.spring_ioc.demo;</span><br><span class="line"></span><br><span class="line">import com.cfc.it.spring_ioc.dao.UserDao;</span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created with IntelliJ IDEA.</span><br><span class="line"> * creator: 蔡芳灿</span><br><span class="line"> * Date: 2022/10/15</span><br><span class="line"> * Time: 16:56</span><br><span class="line"> * 需求：</span><br><span class="line"> */</span><br><span class="line">public class UserDaoDemo &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line"></span><br><span class="line">        //使用spring 中ApplicationContext对象创建getBean</span><br><span class="line">        ApplicationContext app = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">        //参数是spring xml配置的id名称</span><br><span class="line">        UserDao userDao = (UserDao) app.getBean(&quot;userDao&quot;);</span><br><span class="line">        userDao.save();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="2-2-spring配置文件"><a href="#2-2-spring配置文件" class="headerlink" title="2.2 spring配置文件"></a>2.2 spring配置文件</h3><h4 id="2-2-1-Bean标签基本配置"><a href="#2-2-1-Bean标签基本配置" class="headerlink" title="2.2.1 Bean标签基本配置"></a>2.2.1 Bean标签基本配置</h4><p>用于配置对象交由spring来创建</p>
<p>默认情况下它调用的是类中的无参构造函数，如果没有无参构造函数则不能创建成功</p>
<ul>
<li>基本属性<ul>
<li>id:Bean实例在sping容器中的唯一标识，不能重复</li>
<li>class：Bean的全限名称</li>
</ul>
</li>
</ul>
<h4 id="2-2-2Bean标签范围配置"><a href="#2-2-2Bean标签范围配置" class="headerlink" title="2.2.2Bean标签范围配置"></a>2.2.2Bean标签范围配置</h4><p>scop：指对象的作用范围，取值如下</p>
<table>
<thead>
<tr>
<th>取值范围</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>singleton</td>
<td>默认值，单例的</td>
</tr>
<tr>
<td>prototype</td>
<td>多例的</td>
</tr>
<tr>
<td>request</td>
<td>web项目中，Spring创建一个Bean的对象，将对象存入到request域中</td>
</tr>
<tr>
<td>session</td>
<td>web项目中，Spring创建一个Bean的对象，将对象存入到session域中</td>
</tr>
<tr>
<td>global session</td>
<td>web项目中，应用在Portlet环境，如果没有Portlet环境那么global session相当于session</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">//导入测试包</span><br><span class="line">  &lt;dependency&gt;</span><br><span class="line">     &lt;groupId&gt;junit&lt;/groupId&gt;</span><br><span class="line">     &lt;artifactId&gt;junit&lt;/artifactId&gt;</span><br><span class="line">     &lt;version&gt;3.8.2&lt;/version&gt;</span><br><span class="line">     &lt;scope&gt;test&lt;/scope&gt;</span><br><span class="line">  &lt;/dependency&gt;</span><br><span class="line">  </span><br><span class="line">  2.配置spring xml文件scope 参数singleton或者 prototype</span><br><span class="line">     &lt;bean id=&quot;userDao&quot; class=&quot;com.cfc.it.spring_ioc.dao.impl.UserDaoImpl&quot; scope=&quot;singleton&quot;&gt;&lt;/bean&gt;</span><br><span class="line">    </span><br><span class="line">  3.测试</span><br><span class="line">  package com.cfc.it.spring_ioc;</span><br><span class="line"></span><br><span class="line">import com.cfc.it.spring_ioc.dao.UserDao;</span><br><span class="line">import org.junit.Test;</span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created with IntelliJ IDEA.</span><br><span class="line"> * creator: 蔡芳灿</span><br><span class="line"> * Date: 2022/10/15</span><br><span class="line"> * Time: 17:27</span><br><span class="line"> * 需求：</span><br><span class="line"> */</span><br><span class="line">public class SpringTest &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    //测试scope属性</span><br><span class="line">    public void text1() &#123;</span><br><span class="line"></span><br><span class="line">        //使用spring 中ApplicationContext对象创建getBean</span><br><span class="line">        ApplicationContext app = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">        //参数是spring xml配置的id名称</span><br><span class="line">        UserDao userDao = (UserDao) app.getBean(&quot;userDao&quot;);</span><br><span class="line">        UserDao userDao1 = (UserDao) app.getBean(&quot;userDao&quot;);</span><br><span class="line">        //如果spring xml文件中bena参数scope 参数是singleton 两个地址值一样就是单例的</span><br><span class="line">        System.out.println(userDao);  //com.cfc.it.spring_ioc.dao.impl.UserDaoImpl@72d818d1</span><br><span class="line">        System.out.println(userDao1);  //com.cfc.it.spring_ioc.dao.impl.UserDaoImpl@72d818d1</span><br><span class="line"></span><br><span class="line">        //如果spring xml文件中bena参数scope 参数是prototype  两个地址值不一样就是多例的</span><br><span class="line">        System.out.println(userDao);  //com.cfc.it.spring_ioc.dao.impl.UserDaoImpl@5bcab519</span><br><span class="line">        System.out.println(userDao1); //com.cfc.it.spring_ioc.dao.impl.UserDaoImpl@e45f292</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  </span><br></pre></td></tr></table></figure>

<p>总结</p>
<ol>
<li>当scope的取值为singleton时<ul>
<li>bean的实例化个数：1个</li>
<li>bean的实例化时机：当spring核心文件被加载时，实例化配置的bean实例</li>
<li>Bean的生命周期<ul>
<li>对象创建：当应用加载，创建容器时，对象就被创建了</li>
<li>对象运行：只要容器在，对象就一直活着</li>
<li>对象销毁：当应用卸载，销毁容器时，对象就被销毁了</li>
</ul>
</li>
</ul>
</li>
<li>当scope的取值为prototype时<ul>
<li>Bean的实例化个数：多个</li>
<li>Bean的实例化时机：当调用getBean()方法时实例化Bean</li>
<li>Bean的生命周期<ul>
<li>对象创建：当使用对象时，创建新的对象实例</li>
<li>对象运行：只要对象在使用中，就一直活着</li>
<li>对象销毁：当对象长时间不用时，被java的垃圾回收器回收了</li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 id="2-2-3Bean实例化三种方式"><a href="#2-2-3Bean实例化三种方式" class="headerlink" title="2.2.3Bean实例化三种方式"></a>2.2.3Bean实例化三种方式</h4><ul>
<li><p>无参构造方法实例化</p>
<ul>
<li>调用默认时无参构造实例化对象</li>
</ul>
</li>
<li><p>工厂静态方法实例化</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">package com.cfc.it.spring_ioc.factoy;</span><br><span class="line"></span><br><span class="line">import com.cfc.it.spring_ioc.dao.UserDao;</span><br><span class="line">import com.cfc.it.spring_ioc.dao.impl.UserDaoImpl;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created with IntelliJ IDEA.</span><br><span class="line"> * creator: 蔡芳灿</span><br><span class="line"> * Date: 2022/10/30</span><br><span class="line"> * Time: 0:35</span><br><span class="line"> * 需求：</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">public class StaticFactory &#123;</span><br><span class="line"></span><br><span class="line">    //工厂静态方法实例化</span><br><span class="line">    private static UserDao getUserDao()&#123;</span><br><span class="line">        return new UserDaoImpl();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#spring配置文件</span><br><span class="line"></span><br><span class="line">&lt;bean id=&quot;userDao&quot; class=&quot;com.cfc.it.spring_ioc.factoy.StaticFactory&quot; factory-method=&quot;getUserDao&quot; &gt;&lt;/bean</span><br></pre></td></tr></table></figure>


</li>
<li><p>工厂实例方法实例化</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">package com.cfc.it.spring_ioc.factoy;</span><br><span class="line"></span><br><span class="line">import com.cfc.it.spring_ioc.dao.UserDao;</span><br><span class="line">import com.cfc.it.spring_ioc.dao.impl.UserDaoImpl;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created with IntelliJ IDEA.</span><br><span class="line"> * creator: 蔡芳灿</span><br><span class="line"> * Date: 2022/10/30</span><br><span class="line"> * Time: 0:47</span><br><span class="line"> * 需求：</span><br><span class="line"> */</span><br><span class="line">public class DynamicFactory &#123;</span><br><span class="line"></span><br><span class="line">    //工厂实例方法实例化</span><br><span class="line">    public UserDao getUserDao()&#123;</span><br><span class="line">        return new UserDaoImpl();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--    工厂实例方法实例化配置--&gt;</span><br><span class="line">    &lt;bean id=&quot;factory&quot; class=&quot;com.cfc.it.spring_ioc.factoy.DynamicFactory&quot;&gt;&lt;/bean&gt;</span><br><span class="line">    &lt;bean id=&quot;userDao&quot; factory-bean=&quot;factory&quot; factory-method=&quot;getUserDao&quot;&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-3spring-Bean依赖注入"><a href="#2-3spring-Bean依赖注入" class="headerlink" title="2.3spring Bean依赖注入"></a>2.3spring Bean依赖注入</h3><ul>
<li><p>​	依赖注入（dependency Injection）：它是spring框架核心IOC的具体实现</p>
</li>
<li><p>在编写程序时，通过控制反转，把对象的创建交给了spring，但是代码中不可能出现没有依赖情况</p>
<p>IOC解耦只是减低它们的依赖关系，但不会消除。列如：业务层会调用持久层</p>
</li>
<li><p>那这种业务层和持久层的依赖关系，在使用spring之后，就让spring维护了</p>
<p>简单的说，就是坐等框架把持久层对象传入业务层，而不用我们自己去获取</p>
</li>
</ul>
<h4 id="2-3-1Bean依赖注入方式"><a href="#2-3-1Bean依赖注入方式" class="headerlink" title="2.3.1Bean依赖注入方式"></a>2.3.1Bean依赖注入方式</h4><p>怎么将UserDao怎么样注入到UserService内部呢？</p>
<p>dao层</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package com.cfc.it.spring_ioc.dao.impl;</span><br><span class="line"></span><br><span class="line">import com.cfc.it.spring_ioc.dao.UserDao;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created with IntelliJ IDEA.</span><br><span class="line"> * creator: 蔡芳灿</span><br><span class="line"> * Date: 2022/10/15</span><br><span class="line"> * Time: 16:49</span><br><span class="line"> * 需求：</span><br><span class="line"> */</span><br><span class="line">public class UserDaoImpl implements UserDao &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void save() &#123;</span><br><span class="line">        System.out.println(&quot;save running...&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">package com.cfc.it.spring_ioc.dao;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created with IntelliJ IDEA.</span><br><span class="line"> * creator: 蔡芳灿</span><br><span class="line"> * Date: 2022/10/15</span><br><span class="line"> * Time: 16:48</span><br><span class="line"> * 需求：</span><br><span class="line"> */</span><br><span class="line">public interface UserDao &#123;</span><br><span class="line">    public void  save();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<ul>
<li><p>构造方法</p>
<ul>
<li><p>service层</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">package com.cfc.it.spring_ioc.service.impl;</span><br><span class="line"></span><br><span class="line">import com.cfc.it.spring_ioc.dao.UserDao;</span><br><span class="line">import com.cfc.it.spring_ioc.service.UserService;</span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created with IntelliJ IDEA.</span><br><span class="line"> * creator: 蔡芳灿</span><br><span class="line"> * Date: 2022/10/30</span><br><span class="line"> * Time: 1:05</span><br><span class="line"> * 需求：</span><br><span class="line"> */</span><br><span class="line">public class UserServiceImpl implements UserService &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //这时候通过构造方法依赖注入，这里配置了但是spring不知道</span><br><span class="line">    //需要在spring 配置文件配置</span><br><span class="line">    private UserDao userDao;</span><br><span class="line"></span><br><span class="line">    public UserServiceImpl(UserDao userDao) &#123;</span><br><span class="line">        this.userDao = userDao;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public UserServiceImpl() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void service() &#123;</span><br><span class="line">        userDao.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package com.cfc.it.spring_ioc.service;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created with IntelliJ IDEA.</span><br><span class="line"> * creator: 蔡芳灿</span><br><span class="line"> * Date: 2022/10/30</span><br><span class="line"> * Time: 1:04</span><br><span class="line"> * 需求：</span><br><span class="line"> */</span><br><span class="line">public interface UserService &#123;</span><br><span class="line">    </span><br><span class="line">    public void service();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>controller</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">package com.cfc.it.spring_ioc.controller;</span><br><span class="line"></span><br><span class="line">import com.cfc.it.spring_ioc.service.UserService;</span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created with IntelliJ IDEA.</span><br><span class="line"> * creator: </span><br><span class="line"> * Date: 2022/10/30</span><br><span class="line"> * Time: 1:08</span><br><span class="line"> * 需求：</span><br><span class="line"> */</span><br><span class="line">public class UserController &#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">        UserService userService = (UserService) applicationContext.getBean(&quot;userService&quot;);</span><br><span class="line">        userService.service();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>xml配置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--    配置spring xml id的名字随便起 class指向UserDao实现类--&gt;</span><br><span class="line">    &lt;bean id=&quot;userDao&quot; class=&quot;com.cfc.it.spring_ioc.dao.impl.UserDaoImpl&quot;&gt;&lt;/bean&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;bean id=&quot;userService&quot; class=&quot;com.cfc.it.spring_ioc.service.impl.UserServiceImpl&quot;&gt;</span><br><span class="line">        &lt;constructor-arg name=&quot;userDao&quot; ref=&quot;userDao&quot;&gt;&lt;/constructor-arg&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>set方法</p>
<ul>
<li><p>service层</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">package com.cfc.it.spring_ioc.service.impl;</span><br><span class="line"></span><br><span class="line">import com.cfc.it.spring_ioc.dao.UserDao;</span><br><span class="line">import com.cfc.it.spring_ioc.service.UserService;</span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created with IntelliJ IDEA.</span><br><span class="line"> * creator: 蔡芳灿</span><br><span class="line"> * Date: 2022/10/30</span><br><span class="line"> * Time: 1:05</span><br><span class="line"> * 需求：</span><br><span class="line"> */</span><br><span class="line">public class UserServiceImpl implements UserService &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //这时候通过set方法依赖注入，这里配置了但是spring不知道</span><br><span class="line">    //需要在spring 配置文件配置property</span><br><span class="line">    private UserDao userDao;</span><br><span class="line"></span><br><span class="line">    public void setUserDao(UserDao userDao) &#123;</span><br><span class="line">        this.userDao = userDao;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void service() &#123;</span><br><span class="line">        userDao.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package com.cfc.it.spring_ioc.service;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created with IntelliJ IDEA.</span><br><span class="line"> * creator: 蔡芳灿</span><br><span class="line"> * Date: 2022/10/30</span><br><span class="line"> * Time: 1:04</span><br><span class="line"> * 需求：</span><br><span class="line"> */</span><br><span class="line">public interface UserService &#123;</span><br><span class="line">    </span><br><span class="line">    public void service();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


</li>
<li><p>controller</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">package com.cfc.it.spring_ioc.controller;</span><br><span class="line"></span><br><span class="line">import com.cfc.it.spring_ioc.service.UserService;</span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created with IntelliJ IDEA.</span><br><span class="line"> * creator: </span><br><span class="line"> * Date: 2022/10/30</span><br><span class="line"> * Time: 1:08</span><br><span class="line"> * 需求：</span><br><span class="line"> */</span><br><span class="line">public class UserController &#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">        UserService userService = (UserService) applicationContext.getBean(&quot;userService&quot;);</span><br><span class="line">        userService.service();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>xml配置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--    配置spring xml id的名字随便起 class指向UserDao实现类--&gt;</span><br><span class="line">    &lt;bean id=&quot;userDao&quot; class=&quot;com.cfc.it.spring_ioc.dao.impl.UserDaoImpl&quot;&gt;&lt;/bean&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;bean id=&quot;userService&quot; class=&quot;com.cfc.it.spring_ioc.service.impl.UserServiceImpl&quot;&gt;</span><br><span class="line">		    </span><br><span class="line">        &lt;property name=&quot;userDao&quot; ref=&quot;userDao&quot;&gt;&lt;/property&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>set方法注入xml配置P命名空间注入</p>
<ul>
<li><p>P命名空间注入本质也是set方法注入，但比起上述的set方法注入更加方便，主要体现在配置文件中：如下</p>
<p>首先，需要引入P命名空间</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xmlns:p=&quot;http://www.springframework.org/schema/p</span><br></pre></td></tr></table></figure>

<p>其次，需要修改注入方式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;userService&quot; class=&quot;com.cfc.it.spring_ioc.service.impl.UserServiceImpl&quot; p:userDao-ref=&quot;userDao&quot;&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="2-3-2Bean的依赖注入的数据类型"><a href="#2-3-2Bean的依赖注入的数据类型" class="headerlink" title="2.3.2Bean的依赖注入的数据类型"></a>2.3.2Bean的依赖注入的数据类型</h4><ul>
<li><p>注入数据的三种数据类型</p>
<ul>
<li><p>普通数据类型</p>
<p>dao</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">package com.cfc.it.spring_ioc.dao.impl;</span><br><span class="line"></span><br><span class="line">import com.cfc.it.spring_ioc.dao.UserDao;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created with IntelliJ IDEA.</span><br><span class="line"> * creator: 蔡芳灿</span><br><span class="line"> * Date: 2022/10/15</span><br><span class="line"> * Time: 16:49</span><br><span class="line"> * 需求：</span><br><span class="line"> */</span><br><span class="line">public class UserDaoImpl implements UserDao &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    private String username;</span><br><span class="line">    private int age;</span><br><span class="line"></span><br><span class="line">    public String getUsername() &#123;</span><br><span class="line">        return username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setUsername(String username) &#123;</span><br><span class="line">        this.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int getAge() &#123;</span><br><span class="line">        return age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setAge(int age) &#123;</span><br><span class="line">        this.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void save() &#123;</span><br><span class="line">        System.out.println(username+&quot;====&quot;+age);</span><br><span class="line">        System.out.println(&quot;save running...&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--    配置spring xml id的名字随便起 class指向UserDao实现类--&gt;</span><br><span class="line">    &lt;bean id=&quot;userDao&quot; class=&quot;com.cfc.it.spring_ioc.dao.impl.UserDaoImpl&quot;&gt;</span><br><span class="line">        &lt;property name=&quot;username&quot; value=&quot;zhangsan&quot;&gt;&lt;/property&gt;</span><br><span class="line">        &lt;property name=&quot;age&quot; value=&quot;18&quot;&gt;&lt;/property&gt;</span><br><span class="line">     &lt;/bean&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


</li>
<li><p>引用数据类型</p>
<ul>
<li>就是之前的userDao注入到userService就是引用数据类型</li>
</ul>
</li>
<li><p>集合数据类型</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">package com.cfc.it.spring_ioc.dao.impl;</span><br><span class="line"></span><br><span class="line">import com.cfc.it.spring_ioc.dao.UserDao;</span><br><span class="line">import com.cfc.it.spring_ioc.model.User;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line">import java.util.Map;</span><br><span class="line">import java.util.Properties;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created with IntelliJ IDEA.</span><br><span class="line"> * creator: 蔡芳灿</span><br><span class="line"> * Date: 2022/10/15</span><br><span class="line"> * Time: 16:49</span><br><span class="line"> * 需求：</span><br><span class="line"> */</span><br><span class="line">public class UserDaoImpl implements UserDao &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    private List&lt;String&gt; list;</span><br><span class="line">    private Map&lt;String, User&gt; userMap;</span><br><span class="line">    private Properties properties;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public List&lt;String&gt; getList() &#123;</span><br><span class="line">        return list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setList(List&lt;String&gt; list) &#123;</span><br><span class="line">        this.list = list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Map&lt;String, User&gt; getUserMap() &#123;</span><br><span class="line">        return userMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setUserMap(Map&lt;String, User&gt; userMap) &#123;</span><br><span class="line">        this.userMap = userMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Properties getProperties() &#123;</span><br><span class="line">        return properties;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setProperties(Properties properties) &#123;</span><br><span class="line">        this.properties = properties;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void save() &#123;</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        System.out.println(userMap);</span><br><span class="line">        System.out.println(properties);</span><br><span class="line">        System.out.println(&quot;save running...&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!--    配置spring xml id的名字随便起 class指向UserDao实现类--&gt;</span><br><span class="line">    &lt;bean id=&quot;userDao&quot; class=&quot;com.cfc.it.spring_ioc.dao.impl.UserDaoImpl&quot;&gt;</span><br><span class="line">&lt;!--        集合list注入--&gt;</span><br><span class="line">        &lt;property name=&quot;list&quot;&gt;</span><br><span class="line">            &lt;list&gt;</span><br><span class="line">                &lt;value&gt;aaa&lt;/value&gt;</span><br><span class="line">                &lt;value&gt;ccc&lt;/value&gt;</span><br><span class="line">                &lt;value&gt;ddd&lt;/value&gt;</span><br><span class="line">                &lt;value&gt;bbb&lt;/value&gt;</span><br><span class="line">            &lt;/list&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--        集合map注入--&gt;</span><br><span class="line">        &lt;property name=&quot;userMap&quot;&gt;</span><br><span class="line">            &lt;map&gt;</span><br><span class="line">                &lt;entry key=&quot;u1&quot; value-ref=&quot;user&quot;&gt;&lt;/entry&gt;</span><br><span class="line">                &lt;entry key=&quot;u2&quot; value-ref=&quot;user2&quot;&gt;&lt;/entry&gt;</span><br><span class="line">            &lt;/map&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">    &lt;property name=&quot;properties&quot; &gt;</span><br><span class="line">        &lt;props&gt;</span><br><span class="line">            &lt;prop key=&quot;dddd&quot;&gt;1&lt;/prop&gt;</span><br><span class="line">            &lt;prop key=&quot;dda&quot;&gt;2&lt;/prop&gt;</span><br><span class="line">        &lt;/props&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">     &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;bean id=&quot;user&quot; class=&quot;com.cfc.it.spring_ioc.model.User&quot;&gt;</span><br><span class="line">        &lt;property name=&quot;username&quot; value=&quot;zhangsan&quot;&gt;&lt;/property&gt;</span><br><span class="line">        &lt;property name=&quot;age&quot; value=&quot;18&quot;&gt;&lt;/property&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line">    &lt;bean id=&quot;user2&quot; class=&quot;com.cfc.it.spring_ioc.model.User&quot;&gt;</span><br><span class="line">        &lt;property name=&quot;username&quot; value=&quot;lisi&quot;&gt;&lt;/property&gt;</span><br><span class="line">        &lt;property name=&quot;age&quot; value=&quot;20&quot;&gt;&lt;/property&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="2-3-4标签：导入其他的spring分件"><a href="#2-3-4标签：导入其他的spring分件" class="headerlink" title="2.3.4标签：导入其他的spring分件"></a>2.3.4<import>标签：导入其他的spring分件</h4><ul>
<li>在实际开发中有很多配置但是只有一个主文件，那么我们份文件配置可以使用以下import引入</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;import resource=&quot;applicationContext_user.xml&quot;&gt;&lt;/import&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/csh1311/blogImage/main/image-20221030230947237.png" alt="image-20221030230947237"></p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p><img src="https://raw.githubusercontent.com/csh1311/blogImage/main/image-20221030231228880.png" alt="image-20221030231228880"></p>
<h2 id="3-spring相关API"><a href="#3-spring相关API" class="headerlink" title="3.spring相关API"></a>3.spring相关API</h2><ul>
<li><p>ClassPathXmlApplicationContext</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>FileSystemXmlApplicationContext</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ApplicationContext applicationContext = new FileSystemXmlApplicationContext(&quot;D:\\课上\\JAVA\\spring\\spring_ioc\\src\\main\\resources\\applicationContext.xml&quot;);</span><br></pre></td></tr></table></figure></li>
</ul>
<p><img src="https://raw.githubusercontent.com/csh1311/blogImage/main/image-20221030231643599.png" alt="image-20221030231643599"></p>
<h2 id="4-spring配置数据源"><a href="#4-spring配置数据源" class="headerlink" title="4.spring配置数据源"></a>4.spring配置数据源</h2><h3 id="4-1数据源（连接池）的作用"><a href="#4-1数据源（连接池）的作用" class="headerlink" title="4.1数据源（连接池）的作用"></a>4.1数据源（连接池）的作用</h3><ul>
<li>数据源（连接池）是提高程序性能如出现的</li>
<li>事先实例化数据源，初始化部分连接资源</li>
<li>使用连接资源时从数据源获取</li>
<li>使用完毕后将i按揭资源归还给数据源</li>
</ul>
<p>常见数据源（连接池）：DBCP、C3P0、BoneCP、Druid等</p>
<h3 id="4-2数据源的开发步骤"><a href="#4-2数据源的开发步骤" class="headerlink" title="4.2数据源的开发步骤"></a>4.2数据源的开发步骤</h3><ul>
<li>导入数据源的坐标和数据库驱动坐标</li>
<li>创建数据源的对象</li>
<li>设置数据源的基本连接数据</li>
<li>使用数据源获取连接资源和归还连接资源</li>
</ul>

        </div>
    </div>
   
    
    
    

</div>

    <div class="footer" id="footer">
    <p>Copyright © 2020 <a class="flink" target="_blank" rel="noopener" href="https://hexo.io">Hexo</a>-<a class="flink" target="_blank" rel="noopener" href="https://github.com/sanjinhub/hexo-theme-geek">Geek</a>.
        <label class="el-switch el-switch-green el-switch-sm" style="vertical-align: sub;">
            <input type="checkbox" name="switch" id="update_style">
            <span class="el-switch-style"></span>
        </label>
<!--         <script type="text/javascript">
        var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");
        document.write(unescape("%3Cspan id='cnzz_stat_icon_1278548644'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "v1.cnzz.com/stat.php%3Fid%3D1278548644%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
        </script> -->
    </p>
</div>
<input type="hidden" id="web_style" value="black">
<input type="hidden" id="valine_appid" value="CmCti21ooOOIzFOhEyFkFvR0-gzGzoHsz">
<input type="hidden" id="valine_appKey" value="FqiyUqbg7McKN2eG0MCewupf">

<script src="/libs/jquery.min.js"></script>


<script src="/libs/highlight/highlight.pack.js"></script>

<script src='//cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js'></script>

<script src="/js/js.js"></script>

<style type="text/css">
.v * {
    color: #698fca;
}

.v .vlist .vcard .vhead .vsys {
    color: #3a3e4a;
}

.v .vlist .vcard .vh .vmeta .vat {
    color: #638fd5;
}

.v .vlist .vcard .vhead .vnick {
    color: #6ba1ff;
}

.v a {
    color: #8696b1;
}

.v .vlist .vcard .vhead .vnick:hover {
    color: #669bfc;
}
</style>
</body>

<aside id="article-toc" role="navigation" class="fixed">
<div id="article-toc-inner" style="overflow-y: auto;scrollbar-width: none;">
    <strong class="sidebar-title">目录</strong>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#spring"><span class="toc-text">spring</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-spring%E7%AE%80%E4%BB%8B"><span class="toc-text">1.spring简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1spring%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text">1.1spring是什么</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-spring%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="toc-text">2.spring快速入门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4"><span class="toc-text">2.1开发步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-spring%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">2.2 spring配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-Bean%E6%A0%87%E7%AD%BE%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE"><span class="toc-text">2.2.1 Bean标签基本配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2Bean%E6%A0%87%E7%AD%BE%E8%8C%83%E5%9B%B4%E9%85%8D%E7%BD%AE"><span class="toc-text">2.2.2Bean标签范围配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3Bean%E5%AE%9E%E4%BE%8B%E5%8C%96%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-text">2.2.3Bean实例化三种方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3spring-Bean%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5"><span class="toc-text">2.3spring Bean依赖注入</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1Bean%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E6%96%B9%E5%BC%8F"><span class="toc-text">2.3.1Bean依赖注入方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2Bean%E7%9A%84%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">2.3.2Bean的依赖注入的数据类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4%E6%A0%87%E7%AD%BE%EF%BC%9A%E5%AF%BC%E5%85%A5%E5%85%B6%E4%BB%96%E7%9A%84spring%E5%88%86%E4%BB%B6"><span class="toc-text">2.3.4标签：导入其他的spring分件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-spring%E7%9B%B8%E5%85%B3API"><span class="toc-text">3.spring相关API</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-spring%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E6%BA%90"><span class="toc-text">4.spring配置数据源</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1%E6%95%B0%E6%8D%AE%E6%BA%90%EF%BC%88%E8%BF%9E%E6%8E%A5%E6%B1%A0%EF%BC%89%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-text">4.1数据源（连接池）的作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2%E6%95%B0%E6%8D%AE%E6%BA%90%E7%9A%84%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4"><span class="toc-text">4.2数据源的开发步骤</span></a></li></ol></li></ol></li></ol>
</div>
</aside>

<style>
    #article-toc-inner:after,#article-toc-inner:before,.inner:before{
        content: "";
        display: table;
    }
    #article-toc-inner:after,.inner:after{
        clear: both;
    }
    @media screen{
        #article-toc-innerm,.inner{
            padding: 0 20px;
        }
    }
#article-toc{
    display: none;
    float: right;
    width: 25%;
    margin-right: -220px;
    opacity: .8;
}
@media screen and (min-width:769px) {
    #article-toc{
        display: block;
    }
}
#article-toc.fixed{
    position: absolute;
    top:0;
    bottom:0;
    right: 220px;
    padding-top: 55px;

}
.fixed #article-toc-inner{
    position: fixed;
    width: 260px;
    top: 0;
    bottom: 0;
    padding-top: 55px;
}
#article-toc-inner ol {
    margin-left: -5px;
}

#article-toc-inner::-webkit-scrollbar {
  display: none; /* Chrome Safari */
}
li{
    list-style-type: none;
}
</style>


</html>